# -*- mode: conf; -*-
###################################################################################
# gres.conf -- Slurm's Generic Resource (GRES) configuration file for the '<%= scope['slurm::clustername'] %>'
# cluster
###################################################################################
# Documentation: https://slurm.schedmd.com/gres.conf.html
# Main supported Name for the generic resources (as per plugins):
# - gpu: Graphics Processing Unit
# - nic: Network Interface Card
# - mic: Intel Many Integrated Core (MIC) processor
#
###################################################################################
# /!\ DO NOT EDIT THIS FILE: It has been automatically generated by Puppet.
#  In particular, any further changes will be overwritten at the next puppet
#  invocation
###################################################################################
#
# AutoDetect=nvml

<% scope['slurm::gres'].each do |nodename, c| -%>
<%    child = [] -%>
<%    c.each do |k,v| -%>
<%       if k == 'comment' -%>
# <%= v %>
<%       else -%>
<%          child << "#{k.capitalize}=#{v}" -%>
<%       end -%>
<%    end -%>
NodeName=<%= nodename %> <%= child.join(' ') %>
<% end -%>
